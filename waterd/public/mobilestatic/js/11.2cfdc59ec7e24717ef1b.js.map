{"version":3,"sources":["webpack:///src/page/mine/withdraw.vue","webpack:///./src/page/mine/withdraw.vue?1357","webpack:///./src/page/mine/withdraw.vue"],"names":["withdraw","name","components","navbar","data","walletData","withdrawForm","address","money","withdrawInfo","cash_service_ratio","cash_service_max","cash_min","cash_max","serviceMoney","realMoney","watch","handler","val","oldval","ratio","this","smoney","math_default","a","floatMul","floatSub","immediate","deep","mounted","getWallet","getWithdrawInfo","methods","_this","Object","center","then","res","_this2","withdrawAll","withdrawSub","_this3","form","toast","validate","Number","balance","dialog","alert","title","message","mine_withdraw","render","_vm","_h","$createElement","_c","_self","$phonemodel","attrs","_e","_v","staticClass","class","nav","directives","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","$set","_s","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"mobilestatic/js/11.2cfdc59ec7e24717ef1b.js","sourcesContent":["<template>\r\n    <div>\r\n        <navbar title=\"提现\"  v-if=\"$phonemodel == 'Android'\"></navbar>\r\n        <div class=\"app\" :class=\"{nav:$phonemodel == 'Android'}\">\r\n            <p class=\"title\">USDT</p>\r\n            <div class=\"addr\">\r\n                <p>提币地址</p>\r\n                <input type=\"text\" v-model=\"withdrawForm.address\" placeholder=\"请输入\">\r\n            </div>\r\n            <div class=\"addr pr\">\r\n                <p>提币数量</p>\r\n                <input type=\"text\" v-model=\"withdrawForm.money\" placeholder=\"请输入\">\r\n                <span>可用：{{walletData.money}}USDT</span>\r\n            </div>\r\n            <p class=\"ov all\"><span class=\"fl\"></span><span class=\"fr\" @click=\"withdrawAll\">全部提取</span></p>\r\n            <p class=\"ov service\"><span class=\"fl\">手续费:</span><span class=\"fr\">{{serviceMoney}}USDT </span></p>\r\n            <p class=\"ov service\"><span class=\"fl\">实际到账:</span><span class=\"fr\">{{realMoney}}USDT </span></p>\r\n            <p class=\"ov service\"><span class=\"fl\">最低提币金额:</span><span class=\"fr\">{{withdrawInfo.cash_min}}USDT </span></p>\r\n            <div class=\"btn\"><button @click=\"withdrawSub\">确定</button></div>\r\n            <div class=\"art\">\r\n                <!--<div>-->\r\n                    <!--<p class=\"titl\"><img src=\"@/static/images/my/tishi@2x.png\" alt=\"\"><span>温馨提示</span></p>-->\r\n                    <!--<p class=\"spec\">请确认目标提币地址是否存在且被激活，否则将会导致提币失败，且资产不可找回。请务必仔细核对地址标签，否则将造成资产损失并不可找回。为保障资金安全，我们会对提币进行人工审核，请耐心等待审核结果。</p>-->\r\n                <!--</div>-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {wallet, withdraw, withdrawInfo} from \"../../api/center\";\r\n    import fmath from \"../../utils/math\"\r\n    import { toast, Dialog } from 'vant';\r\n    import navbar from \"@/components/navbar\";\r\n    import {cashlist, transferlist} from \"@/page/mine/components\";\r\n    import { validMoney } from \"../../utils/validate\";\r\n    export default {\r\n        name: \"Withdraw\",\r\n        components:{\r\n          navbar\r\n        },\r\n        data()\r\n        {\r\n            return {\r\n                walletData:{},\r\n                withdrawForm:{\r\n                    address:'',\r\n                    money:''\r\n                },\r\n                withdrawInfo:{\r\n                    cash_service_ratio: 0,\r\n                    cash_service_max: 0,\r\n                    cash_min: 0,\r\n                    cash_max: 0,\r\n                },\r\n                serviceMoney:0,\r\n                realMoney:0,\r\n            }\r\n        },\r\n        watch:\r\n            {     // 计算手续费及到账费用\r\n                withdrawForm:\r\n                    {\r\n                        handler(val,oldval){\r\n\r\n                            let ratio = this.withdrawInfo.cash_service_ratio / 100\r\n                            let smoney = fmath.floatMul(ratio, this.withdrawForm.money)\r\n                            if (this.withdrawInfo.cash_service_max > 0 && smoney > this.withdrawInfo.cash_service_max)\r\n                            {\r\n                                this.serviceMoney = this.withdrawInfo.cash_service_max\r\n                            } else\r\n                            {\r\n                                this.serviceMoney = smoney\r\n                            }\r\n\r\n                            this.realMoney = fmath.floatSub(this.withdrawForm.money, this.serviceMoney)\r\n\r\n                        },\r\n                        immediate:false,\r\n                        deep:true\r\n                    },\r\n            },\r\n        mounted()\r\n        {\r\n            this.getWallet()\r\n            this.getWithdrawInfo()\r\n        },\r\n        methods:{\r\n            getWallet()\r\n            {\r\n                wallet().then(res => {\r\n                    this.walletData = res\r\n                })\r\n            },\r\n            // 获取提现设置\r\n            getWithdrawInfo()\r\n            {\r\n                withdrawInfo().then(res => {\r\n\r\n                    this.withdrawInfo = res\r\n                })\r\n            },\r\n            // 全部提现\r\n            withdrawAll()\r\n            {\r\n               this.withdrawForm.money = this.walletData.money\r\n            },\r\n            withdrawSub()\r\n            {\r\n                let form = this.withdrawForm\r\n                if (form.address == '')\r\n                {\r\n                    toast('请输入提现地址')\r\n                    return false\r\n                }\r\n                if (form.money == '')\r\n                {\r\n                    toast('请输入转账金额')\r\n                    return false\r\n                }\r\n                if (!validMoney(form.money))\r\n                {\r\n                    toast('请输入合法金额')\r\n                    return false\r\n                }\r\n                if (Number(form.money) > Number(this.walletData.money))\r\n                {\r\n                    toast('余额不足')\r\n                    return false\r\n                }\r\n                withdraw(form).then(res => {\r\n\r\n                    this.walletData.money = res.balance\r\n                    Dialog.alert({\r\n                        title: '系统提醒',\r\n                        message: '提现成功'\r\n                    }).then(() => {\r\n\r\n                    });\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n        @import \"../../static/css/cash.css\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/mine/withdraw.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$phonemodel == 'Android')?_c('navbar',{attrs:{\"title\":\"提现\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"app\",class:{nav:_vm.$phonemodel == 'Android'}},[_c('p',{staticClass:\"title\"},[_vm._v(\"USDT\")]),_vm._v(\" \"),_c('div',{staticClass:\"addr\"},[_c('p',[_vm._v(\"提币地址\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.withdrawForm.address),expression:\"withdrawForm.address\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.withdrawForm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.withdrawForm, \"address\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"addr pr\"},[_c('p',[_vm._v(\"提币数量\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.withdrawForm.money),expression:\"withdrawForm.money\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.withdrawForm.money)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.withdrawForm, \"money\", $event.target.value)}}}),_vm._v(\" \"),_c('span',[_vm._v(\"可用：\"+_vm._s(_vm.walletData.money)+\"USDT\")])]),_vm._v(\" \"),_c('p',{staticClass:\"ov all\"},[_c('span',{staticClass:\"fl\"}),_c('span',{staticClass:\"fr\",on:{\"click\":_vm.withdrawAll}},[_vm._v(\"全部提取\")])]),_vm._v(\" \"),_c('p',{staticClass:\"ov service\"},[_c('span',{staticClass:\"fl\"},[_vm._v(\"手续费:\")]),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.serviceMoney)+\"USDT \")])]),_vm._v(\" \"),_c('p',{staticClass:\"ov service\"},[_c('span',{staticClass:\"fl\"},[_vm._v(\"实际到账:\")]),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.realMoney)+\"USDT \")])]),_vm._v(\" \"),_c('p',{staticClass:\"ov service\"},[_c('span',{staticClass:\"fl\"},[_vm._v(\"最低提币金额:\")]),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.withdrawInfo.cash_min)+\"USDT \")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('button',{on:{\"click\":_vm.withdrawSub}},[_vm._v(\"确定\")])]),_vm._v(\" \"),_c('div',{staticClass:\"art\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-de1f1e08\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/mine/withdraw.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-de1f1e08\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./withdraw.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./withdraw.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./withdraw.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-de1f1e08\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./withdraw.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-de1f1e08\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/mine/withdraw.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}