webpackJsonp([7],{NymZ:function(t,e,s){t.exports=s.p+"indexstatic/img/image_zhuce.ff1eb2e.png"},"T+/8":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bGai"),o=(s("vMJZ"),{name:"Login",components:{Navbar:a.b},data:function(){return{message:"",toastState:!1,number:"",form:{username:"",password:"",code:""},redirect:""}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},created:function(){var t=this;document.onkeypress=function(e){if(13==(document.all?event.keyCode:e.which))return t.checkForm(),!1}},mounted:function(){this.generatedCode()},methods:{toast:function(t){this.message=t,this.toastState=!0;var e=this;setTimeout(function(){e.toastState=!1},1500)},generatedCode:function(){for(var t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",s=0;s<4;s++){e+=t[Math.floor(36*Math.random())]}this.number=e},checkForm:function(){var t=this.form;if(t.username&&""!=t.username){/^1[3456789]\d{9}$/.test(t.username)?t.password&&""!=t.password?t.code&&""!=t.code?t.code.toLowerCase==this.number.toLowerCase?this.login():this.toast("验证码不正确"):this.toast("请填写验证码"):this.toast("请填写密码"):this.toast("请填写有效手机号")}else this.toast("请填写手机号")},login:function(){var t=this;this.$store.dispatch("user/login",this.form).then(function(e){e.error?t.toast(e.msg):t.redirect?t.$router.push({path:t.redirect}):t.$router.push({path:"/"})}).catch(function(){})}}}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("navbar"),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"log-box warp-1200 ov pr"},[t._m(0),t._v(" "),s("div",{staticClass:"fr login-warp pr"},[t._m(1),t._v(" "),s("div",{staticClass:"input-box"},[s("i"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"username",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-box input-box1"},[s("i"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"username",attrs:{type:"password",placeholder:"请输入您的登录密码"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-box input-box2"},[s("i"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],staticClass:"username",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.form.code},on:{input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value)}}}),s("span",{on:{click:t.generatedCode}},[t._v(t._s(t.number))])]),t._v(" "),s("button",{staticClass:"btn",on:{click:t.checkForm}},[t._v("立即登录")]),t._v(" "),s("div",{staticClass:"go-to"},[s("span",[t._v("没有账户？")]),s("router-link",{attrs:{to:"/register"}},[t._v("马上注册")])],1),t._v(" "),t.toastState?s("p",{staticClass:"toast"},[t._v(t._s(t.message))]):t._e()])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl l-ban"},[e("img",{attrs:{src:s("NymZ"),height:"544",width:"633",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"tit"},[e("span"),this._v("用户登录")])}]};var i=s("C7Lr")(o,r,!1,function(t){s("u0te")},"data-v-16e6c2ca",null);e.default=i.exports},u0te:function(t,e){}});
//# sourceMappingURL=7.5ee0cafea503e88918af.js.map